# HTTP

### 1.GET 和Post区别

> **先说明下安全和幂等的概念：** 
>
> **在 HTTP 协议⾥，所谓的「安全」是指请求⽅法不会「破坏」服务器上的资源。** 
>
> **所谓的「幂等」，意思是多次执⾏相同的操作，结果都是「相同」的。**

​	Get:

​	Get ⽅法的含义是请求从服务器获取资源，这个资源可以是静态的⽂本、⻚⾯、图⽚视频等。

​	GET ⽅法是安全且幂等的，因为它是「只读」操作，⽆论操作多少次，服务器上的数据 都是安全的，且每次的结果都是相同的。 

​	Post:

​	⽽ POST ⽅法则是相反操作，它向 URI 指定的资源提交数据，数据就放在报⽂的 body ⾥。 

​	POST 因为是「新增或提交数据」的操作，会修改服务器上的资源，所以是不安全的，且多次提交数据 

就会创建多个资源，所以不是幂等的。

### 2.HTTP特性

###### 	1.优点

​		简单，灵活易扩展，应用广泛，跨平台。

###### 	2.缺点

​		不安全， 无状态，明文传输。

[^无状态]: 好处在于服务器不用记住HTTP的状态，不用多余的资源，减轻了服务器的负担，能用更多cpu和内存提供外界服务。坏处在于没有关联功能（**cookie**可以将请求和相应报文写入cookie信息控制客户端状态）

​		

​		

### 	3.性能

###### 		1.使用长连接

​		这种⽅式的好处在 于减少了 TCP 连接的重复建⽴和断开所造成的额外开销，减轻了服务器端的负载。

###### 		2.管道运输方式

​		可以发送多个请求，但是由于**请求-应答**的模式，当有请求被阻塞时，之后的请求就会一同阻塞，导致客户端接收不到数据

​	

------

# HTTP与HTTPS

### 1.区别

1. HTTP 是超⽂本传输协议，信息是明⽂传输，存在安全⻛险的问题。HTTPS 则解决 HTTP 不安全的 

2. 缺陷，在 TCP 和 HTTP ⽹络层之间加⼊了 SSL/TLS 安全协议，使得报⽂能够加密传输。 

3. HTTP 连接建⽴相对简单， TCP 三次握⼿之后便可进⾏ HTTP 的报⽂传输。⽽ HTTPS 在 TCP 三 

   次握⼿之后，还需进⾏ SSL/TLS 的握⼿过程，才可进⼊加密报⽂传输。 

4. HTTP 的端⼝号是 80，HTTPS 的端⼝号是 443。 

### 2.HTTPS如何解决HTTP问题

![2](F:\笔记\图片\1600911099192.png)	 

HTTPS 在 HTTP 与 TCP 层之间加⼊了 **SSL/TLS 协议** ：加密信息（混合加密），校验机制（摘要算法），身份证书（服务器公钥放入数字证书中）。

> ###### 混合加密HTTPS 采⽤的是对称加密和⾮对称加密结合的「混合加密」⽅式： 
>
> 在通信建⽴前采⽤⾮对称加密的⽅式交换「会话秘钥」，后续就不再使⽤⾮对称加密。 
>
> 在通信过程中全部使⽤对称加密的「会话秘钥」的⽅式加密明⽂数据。 
>
> 采⽤「混合加密」的⽅式的原因： 
>
> 对称加密只使⽤⼀个密钥，运算速度快，密钥必须保密，⽆法做到安全的密钥交换。 
>
> ⾮对称加密使⽤两个密钥：公钥和私钥，公钥可以任意分发⽽私钥保密，解决了密钥交换问题但速 
>
> 度慢
>
> ###### 摘要算法:
>
> 客户端在发送明⽂之前会通过摘要算法算出明⽂的「指纹」，发送的时候把「指纹 + 明⽂」⼀同加密成 
>
> 密⽂后，发送给服务器，服务器解密后，⽤相同的摘要算法算出发送过来的明⽂，通过⽐较客户端携带 
>
> 的「指纹」和当前算出的「指纹」做⽐较，若「指纹」相同，说明数据是完整的。
>
> ###### 数字证书：
>
> 客户端先向服务器端索要公钥，然后⽤公钥加密信息，服务器收到密⽂后，⽤⾃⼰的私钥解密。 
>
> 这就存在些问题，如何保证公钥不被篡改和信任度？ 
>
> 所以这⾥就需要借助第三⽅权威机构 CA （数字证书认证机构），将服务器公钥放在数字证书（由数字 
>
> 证书认证机构颁发）中，只要证书是可信的，公钥就是可信的。
>
> ![](F:\笔记\图片\1600911781616.png)

### 3.SSL/TLS协议

###### 1.基本流程

- 客户端向服务器索要并验证服务器的公钥。 
- 双⽅协商⽣产「会话秘钥」。 
- 双⽅采⽤「会话秘钥」进⾏加密通信。

# IP

![1600913459545](F:\笔记\图片\1600913459545.png)

### 1.IP地址

​	1.ip地址分类![1600913637248](F:\笔记\图片\1600913637248.png)

![1600913652253](F:\笔记\图片\1600913652253.png)

###### 2.ipv6

IPv4 地址⻓度共 32 位，是以每 8 位作为⼀组，并⽤点分⼗进制的表示⽅式。 

IPv6 地址⻓度是 128 位，是以每 16 位作为⼀组，每组⽤冒号 「:」 隔开

###### 3.常用

1. DNS

   DNS 域名解析，DNS 可以将域名⽹址⾃动转换为具体的 IP 地址。 DNS 域名解析的过程蛮有意思的，整个过程就和我们⽇常⽣活中找⼈问路的过程类似，只指路不带路 。

2. ARP

   求MAC地址

   主机会通过⼴播发送 ARP 请求，这个包中包含了想要知道的 MAC 地址的主机 IP 地址。 当同个链路中的所有设备收到 ARP 请求时，会去拆开 ARP 请求包⾥的内容，如果 ARP 请求包中 的⽬标 IP 地址与⾃⼰的 IP 地址⼀致，那么这个设备就将⾃⼰的 MAC 地址塞⼊ ARP 响应包返回给 主机

3. NAT

   ![1600915657673](F:\笔记\图片\1600915657673.png)

# PING

### 1.ICMP协议

​	ICMP 全称是 Internet Control Message Protocol，也就是互联⽹控制报⽂协议。

​	ICMP 主要的功能包括：确认 IP 包是否成功送达⽬标地址、报告发送过程中 IP 包被废弃的原因和改善 ⽹络设置等。

​	ICMP 报⽂是封装在 IP 包⾥⾯，它⼯作在⽹络层，是 IP 协议的助⼿。

​	ICMP（报文报头前八位）类型 0 和 8 回送消息⽤于进⾏通信的主机或路由器之间，判断所发送的数据包是否已经成功到达对端的⼀种消 息， **ping 命令就是利⽤这个消息实现的。**

### 2.PING流程

​	ping 命令执⾏的时候，源主机⾸先会构建⼀个 ICMP 回送请求消息数据包 ![1600918397875](F:\笔记\图片\1600918397875.png)

​	接受后会发回一个类型为0的icmp报文并计算rtt

#  TCP

### 1.三次握手

![122121](F:\笔记\图片\122121.png)

1. ⼀开始，客户端和服务端都处于 CLOSED 状态。先是服务端主动监听某个端⼝，处于 LISTEN 状 

   态。 

2. 然后客户端主动发起连接 SYN ，之后处于 SYN-SENT 状态。 

3. 服务端收到发起的连接，返回 SYN ，并且 ACK 客户端的 SYN ，之后处于 SYN-RCVD 状态。 

4. 客户端收到服务端发送的 SYN 和 ACK 之后，发送 ACK 的 ACK ，之后处于 ESTABLISHED 状 

   态，因为它⼀发⼀收成功了。 

5. 服务端收到 ACK 的 ACK 之后，处于 ESTABLISHED 状态，因为它也⼀发⼀收了。 

> **seq是数据包本身的序列号；ack是期望对方继续发送的那个数据包的序列号。** 

所以三次握⼿⽬的是保证双⽅都有发送和接收的能⼒。